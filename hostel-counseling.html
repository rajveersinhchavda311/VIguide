<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hostel Counseling - VIGuide</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <!-- Additional styles for Firebase table -->
  <style>
    table {
      border-collapse: collapse;
      width: 80%;
      margin: 20px auto;
      font-family: Arial, sans-serif;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }
    th {
      background-color: #4CAF50;
      color: white;
    }
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
  </style>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
        <div class="logo-container">
            <img src="viguide.jpeg" alt="VIGuide Logo" class="logo">
            <div class="tagline">Your Student Guide</div>
        </div>
        
        <div class="nav-links">
            <div class="dropdowns-container">
                <div class="dropdown">
                    <button class="dropbtn">Academics <i class="fas fa-check"></i></button>
                    <div class="dropdown-content">
                        <a href="ffcs.html">FFCS</a>
                        <a href="exams.html">Exams</a>
                        <a href="books.html">Academic Extracurriculars</a>
                    </div>
                </div> 
                <div class="dropdown">
                    <button class="dropbtn">Extracurricular <i class="fas fa-check"></i></button>
                    <div class="dropdown-content">
                        <a href="leaves.html">Leaves</a>
                        <a href="hostel-counseling.html">Hostel Counseling</a>
                        <a href="clubs.html">Clubs</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Outdoors <i class="fas fa-check"></i></button>
                    <div class="dropdown-content">
                        <a href="food.html">Food</a>
                        <a href="fun.html">Fun</a>
                        <a href="places.html">Places to Visit</a>
                    </div>
                </div>  
            </div>
            <a href="homepage.html" class="home-icon"><i class="fas fa-home"></i></a>
        </div>
</nav>

  <!-- Main Content -->
  <main class="content-page">
    <div class="page-banner">
      <img src="hostelcounsel-banner.jpeg" alt="Hostel Counseling" />
    </div>

    <section class="page-content">
      <h1>Hostel Counseling Guide</h1>

      <div class="content-section">
        <h2><i class="fas fa-bed"></i> Room Allocation Process</h2>

        <div class="important-note">
          <h3><i class="fas fa-star"></i> Key Points</h3>
          <ul>
            <li>Allocation rank determined by CGPA and branch</li>
            <li>Higher CGPA = Earlier room selection priority</li>
            <li>Check your VIT email for allocation schedule</li>
          </ul>
        </div>

        <h3>Step-by-Step Process</h3>
        <ol class="process-steps">
          <li>
            <strong>Check Your Rank</strong>
            <p>Rank notification sent to VIT email 1 week before counseling</p>
          </li>
          <li>
            <strong>Prepare Documents</strong>
            <ul>
              <li>Valid ID card (for yourself and roommates)</li>
              <li>Printed counseling schedule</li>
              <li>CGPA proof document</li>
            </ul>
          </li>
          <li>
            <strong>Room Selection Rules</strong>
            <ul>
              <li>Juniors can include seniors in their group</li>
              <li>Seniors cannot include juniors</li>
              <li>One representative can book for entire group</li>
            </ul>
          </li>
        </ol>

        <!-- Firebase integrated button with an id -->
        <button id="loadBtn" class="exchange-btn" style="margin: 2rem auto; display: block;">
          <i class="fas fa-door-open"></i> View Available Rooms
        </button>
        <!-- Container for the dynamically generated table -->
        <div id="tableContainer"></div>
      </div>

      <div class="content-section">
        <h2><i class="fas fa-lightbulb"></i> Pro Tips & Strategies</h2>

        <div class="important-note warning">
          <h3><i class="fas fa-exclamation-triangle"></i> Backup Plan</h3>
          <p>If you don't get preferred room:</p>
          <ol>
            <li>Take any available room matching your CGPA</li>
            <li>Apply for room change during next semester</li>
            <li>Vacancies created when 4th semester students leave</li>
          </ol>
        </div>

        <h3>Optimization Strategies</h3>
        <ul class="strategy-list">
          <li>
            <i class="fas fa-chess"></i> <strong>Group Formation:</strong>
            <p>Combine with friends having different CGPA tiers</p>
          </li>
          <li>
            <i class="fas fa-clock"></i> <strong>Timing:</strong>
            <p>Check portal for last-minute vacancies during add/drop period</p>
          </li>
          <li>
            <i class="fas fa-sync-alt"></i> <strong>Room Changes:</strong>
            <p>Apply within first week of new semester for best options</p>
          </li>
        </ul>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="hostel.html">Hostel</a></li>
          <li><a href="counseling.html">Counseling</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Contact</h4>
        <p><i class="fas fa-envelope"></i> megh.chakravarty@gmail.com</p>
        <p><i class="fas fa-phone"></i> +91 98765 43210</p>
      </div>
      <div class="footer-section">
        <h4>Made By</h4>
        <div class="social-icons">
          <p>Devarsh Ganatra<p>
        </div>
        <div class="social-icons">
          <p>Rajveersinh chavda<p>
        </div>
        <div class="social-icons">
          <p>Megh chakravarty<p>
        </div>
        <div class="social-icons">
          <p>Dakshrajsinh Tank</p>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; 2023 VIGuide | Hostel Guidance Portal
    </div>
  </footer>

  <script src="script.js"></script>
  
  <!-- Firebase integration script -->
  <script>
    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyB1tDAzoAh2_X_lAdIGY0X3PnUFsQqwXDA",
      authDomain: "statictable-da3e9.firebaseapp.com",
      projectId: "statictable-da3e9",
      storageBucket: "statictable-da3e9.appspot.com",
      messagingSenderId: "1055856790523",
      appId: "1:1055856790523:web:7889743511f71f4651595e",
      measurementId: "G-S3LT36ZX3J"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Add event listener to load room availability from Firestore
    document.getElementById("loadBtn").addEventListener("click", async () => {
      try {
        const querySnapshot = await db.collection("staticTable")
          .orderBy("blockGroup", "asc")
          .get();
        let tableHTML = `
          <table>
            <tr>
              <th>Block Group</th>
              <th>Room Type</th>
              <th>Room Count</th>
            </tr>
        `;
        querySnapshot.forEach(doc => {
          const data = doc.data();
          tableHTML += `
            <tr>
              <td>${data.blockGroup}</td>
              <td>${data.roomType}</td>
              <td>${data.roomCount}</td>
            </tr>
          `;
        });
        tableHTML += "</table>";
        document.getElementById("tableContainer").innerHTML = tableHTML;
      } catch (error) {
        console.error("Error loading data: ", error);
        document.getElementById("tableContainer").innerHTML =
          "<p style='text-align:center;color:red;'>Error loading data. Please check console for details.</p>";
      }
    });
  </script>
</body>
</html>